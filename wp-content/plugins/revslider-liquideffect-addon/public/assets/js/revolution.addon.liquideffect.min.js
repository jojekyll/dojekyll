/**
 * @author    ThemePunch <info@themepunch.com>
 * @link      https://www.themepunch.com/
 * @copyright 2018 ThemePunch
 */
!function(){var o,g,d="ontouchend"in document;function n(t,i){this.slider=t,this.effects=i,this.firstrun=!0,t.one("revolution.slide.onloaded",this.onLoaded.bind(this)).one("rsLiquidEffectDestroyed",this.destroy.bind(this))}window.RsLiquideffectAddOn=function(t,i,h,e){if(g=jQuery.fn.revolution,t&&"undefined"!=typeof PIXI&&(PIXI.utils.skipHello(),(i=t(i)).length)){(o=t).event.special.rsLiquidEffectDestroyed={remove:function(t){t.handler()}};var s=i.find("rs-slide[data-liquideffect]").each(function(){var t,i=o(this),e=JSON.parse(i.attr("data-liquideffect"));if(e){e.transcross=!0;var s,n=i.children("img");if(n.attr("data-lazyload")?s=n.attr("data-lazyload"):(s=n.attr("src"),n.attr("data-lazyload",s),n.attr("src",h+"public/assets/assets/dummy.png")),s||((s=i.find("rs-sbg-wrap").contents().filter(function(){return 8===this.nodeType})).length?(t=s[0].nodeValue,s=!1,t&&(2===(t=t.split('data-lazyload="')).length?1<(t=t[1].split('"')).length&&(s=t[0]):2===(t=t.split('src="')).length&&1<(t=t[1].split('"')).length&&(s=t[0]))):s=!1),s){e.sprite=s,d&&e.mobile&&(e.interactive=!1);var a="ei:"+e.easing+";eo:"+e.easing+";s:"+e.transtime+"ms;r:0;t:";a+=e.transcross?"crossfade":"fade",a+=";sl:0;";var r=e.easing.split(".");e.easing=2===r.length?punchgs[r[0]][r[1]]:punchgs.hasOwnProperty(r[0])?punchgs[r[0]]:punchgs.Power3.easeInOut,i.attr("data-anim",a).removeAttr("data-panzoom").data({liquideffectsettings:e,liquideffectorig:o.extend({},e)}),e.interactive&&(r=e.intereasing.split("."),e.intereasing=2===r.length?punchgs[r[0]][r[1]]:punchgs.hasOwnProperty(r[0])?punchgs[r[0]]:punchgs.Power3.easeInOut)}else i.removeData("liquideffect").removeAttr("data-liquideffect")}});return!!(s=i.find("rs-slide[data-liquideffect]")).length&&new n(i,s)}};function e(t,i,e,s){this.slide=t,this.slideWidth=t.width(),this.slideHeight=t.height(),this.slideRatio=this.slideWidth/this.slideHeight,this.imageRatio=i/e,this.w=i,this.h=e,this.mouse={x:0,y:0},this.frame=void 0,this.settings=t.data("liquideffectsettings"),this.orig=t.data("liquideffectorig"),this.displacement=new PIXI.Sprite.fromImage(this.settings.image),this.displacement.texture.baseTexture.wrapMode=PIXI.WRAP_MODES.REPEAT,this.displacement.scale.x=2,this.displacement.scale.y=2,this.displacement.anchor.set(.5);var n=this.settings.sprite,a=new PIXI.Texture.fromImage(n),r=new PIXI.Container;this.img=new PIXI.Sprite(a),this.img.anchor.set(.5),r.addChild(this.img),this.filter=new PIXI.filters.DisplacementFilter(this.displacement),this.filter.autoFit=!0,this.stage=new PIXI.Container,this.stage.addChild(r),this.stage.addChild(this.displacement),this.stage.filters=[this.filter],this.stage.interactive=!0,this.renderer=new PIXI.autoDetectRenderer(this.slideWidth,this.slideHeight,{transparent:!0});var h=this.renderer.view.style;h.top="50%",h.left="50%",h.msTransform="translate(-50%, -50%) scale(1.2)",h.transform="translate( -50%, -50% ) scale(1.2)",t.find("rs-sbg-wrap").append(this.renderer.view),this.settings.autoplay?(this.filter.scale.x=this.settings.scalex,this.filter.scale.y=this.settings.scaley):(this.filter.scale.x=0,this.filter.scale.y=0),this.settings.interactive?(r.interactive=!0,"mousedown"===this.settings.event?(r.buttonMode=!0,r.pointerdown=this.onClick.bind(this),r.pointerup=r.pointerout=this.onReturn.bind(this)):(r.pointerover=this.onMouseEnter.bind(this),r.pointermove=this.onMouseMove.bind(this),r.pointerout=this.onMouseLeave.bind(this))):this.renderer.view.style.pointerEvents="none",this.supressEvents=!0,this.started=!1,this.ticker=new PIXI.ticker.Ticker,this.ticker.add(this.tick.bind(this)),s.on("revolution.slide.afterdraw",this.resize.bind(this)),this.resize.bind(this)()}n.prototype={onLoaded:function(){this.slider.on("revolution.slide.onbeforeswap",this.beforeChange.bind(this)).on("revolution.slide.onchange",this.onChange.bind(this))},onChange:function(t,i){var e,s;if(!this.ranOnce)return!(e=i.slide)||e instanceof o||(e=o(e)),e&&e.length||(e=this.slider.find("rs-slide").eq(0)),void this.beforeChange(!1,{nextslide:e});!(e=i.prevSlide)||e instanceof o||(e=o(e)),e&&e.length&&(s=e.removeClass("liquid-force-visible").data("liquideffectcanvas"))&&s.reset(),!(e=i.currentSlide)||e instanceof o||(e=o(e)),e&&e.length||(e=this.slider.find("rs-slide").eq(0)),s=e.data("liquideffectcanvas")},beforeChange:function(t,d){this.ranOnce=!0;var l=[];function i(t,i){var e=new Image,s=i.find("rs-sbg");e.crossOrigin="Anonymous";var n,a,r,h=(n=s[0],a=void 0,r=t.slider[0].id,void 0!==g.gA(n,"lazyload")?g.gA(n,"lazyload"):void 0!==g[r].lazyloaddata&&0<g[r].lazyloaddata.length&&void 0!==g.gA(n,g[r].lazyloaddata)?g.gA(n,g[r].lazyloaddata):void 0!==g.gA(n,"lazy-src")?g.gA(n,"lazy-src"):void 0!==g.gA(n,"lazy-wpfc-original-src")?g.gA(n,"lazy-wpfc-original-src"):void 0!==g.gA(n,"lazy")?g.gA(n,"lazy"):a),o=void 0!==h?h:null!=g.gA(s[0],"svg_src")?g.gA(s[0],"svg_src"):void 0===s[0].src?s.data("src"):s[0].src;e.src=void 0!==o?o:s.css("background-image").slice(4,-1).replace(/"/g,""),e.onload=function(){i.data("liquideffectcanvasprep",[parseInt(e.naturalWidth,10),parseInt(e.naturalHeight,10)]),t.imgCount++,t.imgCount===l.length&&t.run(d)}}if(this.effectsCreated||(this.effectsCreated=!0,this.effects.each(function(){var t=o(this),i=t.data("liquideffectsettings").imagesize.split("|");2===i.length?t.data("liquideffectcanvasprep",[parseInt(i[0],10),parseInt(i[1],10)]):l[l.length]=this})),l.length)for(var e=this.imgCount=0;e<l.length;e++)i(this,o(l[e]));else this.run(d)},run:function(t){var i;this.firstrun?((i=t.nextslide.data("liquideffectcanvas"))||(i=t.nextslide.data("liquideffectcanvasprep"))&&(i=new e(t.nextslide,i[0],i[1],this.slider),t.nextslide.removeData("liquideffectcanvasprep"),t.nextslide.data("liquideffectcanvas",i)),i&&i.animateIn(!0),this.firstrun=!1):(t.currentslide&&(i=t.currentslide.data("liquideffectcanvas"))&&i.animateOut(t.nextslide),(i=t.nextslide.data("liquideffectcanvas"))||(i=t.nextslide.data("liquideffectcanvasprep"))&&(i=new e(t.nextslide,i[0],i[1],this.slider),t.nextslide.removeData("liquideffectcanvasprep"),t.nextslide.data("liquideffectcanvas",i)),i&&(t.nextslide.addClass("liquid-force-visible"),i.settings.transcross&&i.animateIn()))},destroy:function(){for(var t in this.slider&&this.slider.off("revolution.slide.onloaded revolution.slide.onbeforeswap revolution.slide.onafterswap"),this.effects&&this.effects.each(function(){o(this).removeData("liquideffectcanvas liquideffectsettings liquideffectorig")}),this)this.hasOwnProperty(t)&&delete this[t]}},e.prototype={tick:function(t){this.settings.autoplay&&(this.settings.speedx&&(this.displacement.x+=this.settings.speedx*t),this.settings.speedy&&(this.displacement.y+=this.settings.speedy),this.settings.rotationx&&(this.displacement.rotation.x+=this.settings.rotationx),this.settings.rotationy&&(this.displacement.rotation.y+=this.settings.rotationy),this.settings.rotation&&(this.displacement.rotation+=this.settings.rotation*Math.PI/180)),this.renderer.render(this.stage)},onClick:function(){if(!this.supressEvents){var t=.001*this.settings.intertime;if(this.settings.interscalex||this.settings.interscaley){var i={ease:this.settings.intereasing,overwrite:"all"};this.settings.interscalex&&(i.x=this.orig.scalex+this.settings.interscalex),this.settings.interscaley&&(i.y=this.orig.scaley+this.settings.interscaley),punchgs.TweenLite.to(this.filter.scale,t,i)}punchgs.TweenLite.to(this.settings,t,{speedx:this.orig.speedx+this.settings.interspeedx,speedy:this.orig.speedy+this.settings.interspeedy,rotation:this.orig.rotation+this.settings.interotation,ease:this.settings.intereasing,overwrite:"all"})}},onReturn:function(){if(!this.supressEvents){var t=.001*this.settings.intertime;punchgs.TweenLite.to(this.filter.scale,t,{x:this.orig.scalex,y:this.orig.scaley,ease:this.settings.intereasing,overwrite:"all"}),punchgs.TweenLite.to(this.settings,t,{speedx:this.orig.speedx,speedy:this.orig.speedy,rotation:this.orig.rotation,ease:this.settings.intereasing,overwrite:"all"})}},onMouseMove:function(t){this.supressEvents||(this.entered?(this.mouse.x=Math.round(t.data.global.x),this.mouse.y=Math.round(t.data.global.y),this.frame||(this.frame=window.requestAnimationFrame(this.updateDisplacement.bind(this)))):this.onMouseEnter(t))},updateDisplacement:function(){this.frame=window.cancelAnimationFrame(this.frame);var t,i=this.mouse.x-this.x,e=this.mouse.y-this.y,s=Date.now(),n=s-this.t,a=Math.sqrt(i*i+e*e)/n,r=.001*this.settings.intertime;if(this.x=this.mouse.x,this.y=this.mouse.y,this.t=s,this.settings.interscalex||this.settings.interscaley){var h={ease:this.settings.intereasing,overwrite:"all",onComplete:this.onReturn.bind(this)};this.settings.interscalex&&(h.x=this.settings.interscalex*a),this.settings.interscaley&&(h.y=this.settings.interscaley*a),t=!0,punchgs.TweenLite.to(this.filter.scale,r,h)}var o={speedx:this.orig.speedx+this.settings.interspeedx,speedy:this.orig.speedy+this.settings.interspeedy,rotation:this.orig.rotation+this.settings.interotation,ease:this.settings.intereasing,overwrite:"all"};t||(o.onComplete=this.onReturn.bind(this)),punchgs.TweenLite.to(this.settings,r,o)},onMouseEnter:function(t){this.supressEvents||(this.entered=!0,this.x=t.data.global.x,this.y=t.data.global.y,this.t=Date.now())},onMouseLeave:function(){this.entered=!1},eventsReady:function(){this.supressEvents=!1},onComplete:function(){var t=this.nextslide.data("liquideffectcanvas");t&&!t.started&&t.animateIn(),this.nextslide=!1},onUpdateIn:function(){this.tweenIn&&(this.displacement.rotation+=.02*this.tweenIn.progress(),this.displacement.scale.set(3*this.tweenIn.progress()))},onUpdateOut:function(){this.tweenOut&&(this.displacement.rotation+=.02*this.tweenOut.progress(),this.displacement.scale.set(3*this.tweenOut.progress()))},transitionIn:function(){var t=.001*this.settings.transtime,i={x:this.orig.scalex,y:this.orig.scaley,ease:this.settings.easing,overwrite:"all",delay:this.del},e={speedx:this.orig.speedx,speedy:this.orig.speedy,rotationx:this.orig.rotationx,rotationy:this.orig.rotationy,rotation:this.orig.rotation,ease:this.settings.easing,overwrite:"all",delay:this.del};this.interactive&&"mousedown"===this.event?i.onComplete=this.eventsReady.bind(this):this.supressEvents=!1,this.settings.transpower&&(e.onUpdate=this.onUpdateIn.bind(this)),punchgs.TweenLite.to(this.filter.scale,t,i),this.tweenIn=punchgs.TweenLite.to(this.settings,t,e),punchgs.TweenLite.to(this.renderer.view,.5*t,{opacity:1,ease:this.settings.easing,overwrite:"all",delay:this.del}),this.ticker.start()},animateIn:function(t){this.reset(),this.started=!0,this.del=this.settings.transcross||t?.001*this.settings.transtime*.5:0,this.timer=setTimeout(this.transitionIn.bind(this),this.del)},animateOut:function(t){clearTimeout(this.timer),this.tweenIn=null,this.supressEvents=!0,this.started=!1;var i=.001*this.settings.transtime,e={speedx:this.orig.speedx+this.settings.transpeedx,speedy:this.orig.speedy+this.settings.transpeedy,rotationx:this.orig.rotationx+this.settings.transrotx,rotationy:this.orig.rotationy+this.settings.transroty,rotation:this.orig.rotation+this.settings.transrot,ease:this.settings.easing,overwrite:"all"};this.settings.transcross&&t&&(this.nextslide=t,e.onComplete=this.onComplete.bind(this)),this.settings.transpower&&(e.onUpdate=this.onUpdateOut.bind(this)),punchgs.TweenLite.to(this.filter.scale,i,{x:this.orig.scalex+this.settings.transitionx,y:this.orig.scaley+this.settings.transitiony,ease:this.settings.easing,overwrite:"all"}),this.tweenOut=punchgs.TweenLite.to(this.settings,i,e),punchgs.TweenLite.to(this.renderer.view,i,{opacity:0,ease:this.settings.easing,delay:.5*i})},resize:function(){this.slideWidth=this.slide.width(),this.slideHeight=this.slide.height(),this.slideRatio=this.slideWidth/this.slideHeight,this.displacement.x=this.slideWidth/2,this.displacement.y=this.slideHeight/2,this.renderer.resize(this.slideWidth,this.slideHeight),this.img.width=this.w,this.img.height=this.h,1<this.slideRatio&&this.slideRatio>this.imageRatio?(this.img.width=this.slideWidth,this.img.height=this.slideWidth/this.imageRatio):(this.img.width=this.slideHeight*this.imageRatio,this.img.height=this.slideHeight),this.img.x=this.slideWidth/2,this.img.y=this.slideHeight/2},reset:function(t){this.tweenIn=null,this.tweenOut=null,this.ticker.stop(),clearTimeout(this.timer),punchgs.TweenLite.killTweensOf(this.filter.scale),punchgs.TweenLite.killTweensOf(this.settings),punchgs.TweenLite.killTweensOf(this.renderer.view),t||(this.settings.power&&(this.displacement.rotation=0,this.displacement.scale.set(1)),this.displacement.x=this.slideWidth/2,this.displacement.y=this.slideHeight/2,this.displacement.rotation.x=0,this.displacement.rotation.y=0,this.displacement.rotation=0,this.settings.speedx=this.orig.speedx+this.settings.transpeedx,this.settings.speedy=this.orig.speedy+this.settings.transpeedy,this.settings.rotationx=this.orig.rotationx+this.settings.transrotx,this.settings.rotationy=this.orig.rotationy+this.settings.transroty,this.filter.scale.x=this.orig.scalex+this.settings.transitionx,this.filter.scale.y=this.orig.scaley+this.settings.transitiony,this.renderer.view.style.opacity=0)},destroy:function(){for(var t in this.ticker&&(this.reset(!0),this.container.pointerdown=null,this.container.pointerup=null,this.container.pointerover=null,this.container.pointerout=null,this.container.touchstart=null,this.container.touchend=null),this.renderer&&this.slide.remove(this.renderer.view),this)this.hasOwnProperty(t)&&delete this[t]}}}();